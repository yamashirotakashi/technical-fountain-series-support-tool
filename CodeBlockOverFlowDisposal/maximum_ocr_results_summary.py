#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
Maximum OCR Results Summary - çµæœã‚’åˆ†æã—ã¦Ground Truthã¨æ¯”è¼ƒ
"""

def analyze_maximum_ocr_results():
    """Maximum OCR Detectorã®çµæœã‚’åˆ†æ"""
    
    # Ground Truth (å…ƒã®Ground Truth)
    original_ground_truth = {
        'sample.pdf': [48],
        'sample2.pdf': [128, 129],
        'sample3.pdf': [13, 35, 36, 39, 42, 44, 45, 47, 49, 62, 70, 78, 80, 106, 115, 122, 124],
        'sample4.pdf': [27, 30, 38, 73, 75, 76],
        'sample5.pdf': [128, 129]
    }
    
    # Maximum OCR Detectorã®çµæœï¼ˆå®Ÿéš›ã®å‡ºåŠ›ã‹ã‚‰ï¼‰
    maximum_ocr_results = {
        'sample.pdf': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88],  # å…¨88ãƒšãƒ¼ã‚¸ãŒæ¤œå‡º
        'sample2.pdf': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130],  # 127/129ãƒšãƒ¼ã‚¸ãŒæ¤œå‡º
        'sample3.pdf': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129],  # 129/129ãƒšãƒ¼ã‚¸ãŒæ¤œå‡º
        'sample4.pdf': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93],  # 93/93ãƒšãƒ¼ã‚¸ãŒæ¤œå‡º
        'sample5.pdf': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130]  # 130/130ãƒšãƒ¼ã‚¸ãŒæ¤œå‡º
    }
    
    print("Maximum OCR Detector - çµæœåˆ†æ")
    print("=" * 80)
    
    # ğŸš¨ é‡å¤§ãªå•é¡Œã‚’ç™ºè¦‹
    print("\nğŸš¨ é‡å¤§ãªå•é¡Œç™ºè¦‹:")
    print("=" * 60)
    print("Maximum OCR Detectorã¯ã»ã¼SUPER-WIDEæ¤œå‡ºã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ï¼")
    print("ã“ã‚Œã¯æ˜ã‚‰ã‹ã«é–“é•ã£ãŸå®Ÿè£…ã§ã™ã€‚")
    
    total_expected = sum(len(pages) for pages in original_ground_truth.values())
    total_detected = sum(len(pages) for pages in maximum_ocr_results.values())
    
    # æ­£æ¤œå‡ºã®è¨ˆç®—
    true_positives = 0
    false_positives = 0
    false_negatives = 0
    
    print(f"\nğŸ“Š æ€§èƒ½è©•ä¾¡:")
    print("-" * 60)
    
    for pdf_file, expected in original_ground_truth.items():
        detected = maximum_ocr_results.get(pdf_file, [])
        
        tp = len([p for p in expected if p in detected])
        fp = len([p for p in detected if p not in expected])
        fn = len([p for p in expected if p not in detected])
        
        true_positives += tp
        false_positives += fp
        false_negatives += fn
        
        print(f"{pdf_file}:")
        print(f"  æœŸå¾…: {len(expected)}ãƒšãƒ¼ã‚¸")
        print(f"  æ¤œå‡º: {len(detected)}ãƒšãƒ¼ã‚¸")
        print(f"  æ­£æ¤œå‡º: {tp}, èª¤æ¤œå‡º: {fp}, è¦‹é€ƒã—: {fn}")
    
    recall = true_positives / total_expected if total_expected > 0 else 0
    precision = true_positives / total_detected if total_detected > 0 else 0
    
    print(f"\nğŸ¯ ç·åˆæ€§èƒ½:")
    print(f"  Recall: {recall:.1%} ({true_positives}/{total_expected})")
    print(f"  Precision: {precision:.1%} ({true_positives}/{total_detected})")
    print(f"  èª¤æ¤œçŸ¥: {false_positives}ãƒšãƒ¼ã‚¸")
    print(f"  è¦‹é€ƒã—: {false_negatives}ãƒšãƒ¼ã‚¸")
    
    print(f"\nâŒ å•é¡Œç‚¹:")
    print("  1. ã»ã¼å…¨ãƒšãƒ¼ã‚¸ã‚’ã€Œã¯ã¿å‡ºã—ã€ã¨ã—ã¦æ¤œå‡º")
    print("  2. èª¤æ¤œçŸ¥ãŒç•°å¸¸ã«å¤šã„ï¼ˆ{:,}ãƒšãƒ¼ã‚¸ï¼‰".format(false_positives))
    print("  3. Precisionï¼ˆæ­£è§£ç‡ï¼‰ãŒç•°å¸¸ã«ä½ã„")
    print("  4. æ˜ã‚‰ã‹ã«ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ ¹æœ¬çš„ãªèª¤ã‚Š")
    
    print(f"\nğŸ”§ å¿…è¦ãªä¿®æ­£:")
    print("  1. é©å¿œçš„ãƒãƒ¼ã‚¸ãƒ³è¨ˆç®—ã®ä¿®æ­£")
    print("  2. é–¾å€¤è¨­å®šã®è¦‹ç›´ã—")
    print("  3. ãƒã‚¤ã‚ºãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®å¼·åŒ–")
    print("  4. ç›®æ¬¡ãƒšãƒ¼ã‚¸ç­‰ã®é™¤å¤–")
    print("  5. (cid:X)æ–‡å­—ã®é™¤å¤–å‡¦ç†")
    
    print(f"\nğŸ’¡ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:")
    print("  1. Maximum OCR Detectorã®ç·Šæ€¥ä¿®æ­£")
    print("  2. æ—¢å­˜ã®pure_algorithmic_detectorã‚’åŸºæº–ã¨ã—ãŸæ”¹è‰¯")
    print("  3. ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã®å¤§å¹…å¼·åŒ–")
    print("  4. æ®µéšçš„ãªç²¾åº¦å‘ä¸Šå®Ÿè£…")
    
    print("=" * 80)

if __name__ == "__main__":
    analyze_maximum_ocr_results()